
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Developing Xcode 4 Plugins - Daniel Beard</title>
  <meta name="author" content="Daniel Beard">

  
  <meta name="description" content="This is a quick guide that documents how to start developing plugins for Xcode4. You need to have Xcode installed to create plugins. Step 1 - Xcode &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://danielbeard.io/blog/2013/04/29/developing-xcode-4-plugins">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Daniel Beard" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=Open+Sans:400,700&subset=latin" rel="stylesheet" type="text/css" />
<link href='http://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>



  

</head>

<body    class="collapse-sidebar sidebar-footer" >
  <nav id="main-nav" role="navigation">
<ul class="main-navigation">
  <li><a href="/" class="nav-link">Blog</a></li>
  <li><a href="/blog/archives" class="nav-link">Archives</a></li>
	<li><a href="https://github.com/daniel-beard">GitHub</a></li>
	<li><a href="/about">About</a></li>
</ul>

</nav>
  
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Developing Xcode 4 Plugins</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-04-29T09:15:20-07:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


<div class="entry-content"><p>This is a quick guide that documents how to start developing plugins for Xcode4. You need to have Xcode installed to create plugins.</p>

<h3>Step 1 - Xcode Plugin Project Template</h3>

<ul>
<li>Grab the Xcode project template for creating plugins from <a href="https://github.com/kattrali/Xcode4-Plugin-Template">here</a></li>
<li>Create the plugin template folder <code>~/Library/Developer/Xcode/Templates/Project Templates/Application Plug-in/Xcode4 Plugin.xctemplate</code> if it doesn&rsquo;t already exist.</li>
<li>A quick way to do this is with the following command <code>mkdir -p "~/Library/Developer/Xcode/Templates/Project Templates/Application Plug-in/Xcode4 Plugin.xctemplate"</code></li>
<li>Copy the contents of the GitHub repository to the folder you just created.</li>
<li>Restart Xcode.</li>
</ul>


<h3>Step 2 - Create a test project</h3>

<ul>
<li>Open Xcode, and select <code>File &gt; New &gt; Project</code></li>
<li>Then under <code>OS X &gt; Templates</code> tap <code>Xcode4 Plugin</code> (shown below)</li>
</ul>


<p><a href="http://danielbeard.files.wordpress.com/2013/04/screen-shot-2013-04-29-at-3-44-05-pm.png"><img src="http://danielbeard.files.wordpress.com/2013/04/screen-shot-2013-04-29-at-3-44-05-pm.png?w=300" alt="Screen Shot 2013-04-29 at 3.44.05 PM" /></a></p>

<p>From the GitHub repo:</p>

<pre><code>The default plugin file links against AppKit and Foundation, and, when built 
(and Xcode is restarted), creates a menu item labeled "Do Action" in the File menu. 
Pressing the menu item should open an alert. Customize at will!
</code></pre>

<p>If we run the project we just created, it will automatically build and copy the plugin to the right location. In this case it is <code>~/Library/Application Support/Developer/Shared/Xcode/Plug-ins/[Project Name].xcplugin</code>. Restarting Xcode, we get a new menu item under the <code>File</code> menu!</p>

<h3><a href="http://danielbeard.files.wordpress.com/2013/04/screen-shot-2013-04-29-at-3-53-02-pm.png"><img src="http://danielbeard.files.wordpress.com/2013/04/screen-shot-2013-04-29-at-3-53-02-pm.png" alt="Screen Shot 2013-04-29 at 3.53.02 PM" /></a></h3>

<p>When we click on the menu item, we get an alert:</p>

<h3><a href="http://danielbeard.files.wordpress.com/2013/04/screen-shot-2013-04-29-at-3-53-49-pm.png"><img src="http://danielbeard.files.wordpress.com/2013/04/screen-shot-2013-04-29-at-3-53-49-pm.png?w=300" alt="Screen Shot 2013-04-29 at 3.53.49 PM" /></a></h3>

<p>Notes:</p>

<ul>
<li>Xcode plugins have to be written using Objective-C GC, this means you have to use <code>retain</code> and <code>release</code> calls in your code. (No ARC support).</li>
</ul>


<h3>Where to go from here?</h3>

<ul>
<li><a href="http://stackoverflow.com/a/12478484/1144632">This StackOverflow answer</a> has some great ideas on where to go next</li>
<li>You can get a dump of the private headers that Xcode uses by using the <a href="https://github.com/nygard/class-dump">class-dump</a> tool</li>
<li><code>brew install class-dump</code> is the quickest way to get it if you have homebrew installed.</li>
<li>IDEKit and IDEFoundation are present at <code>Xcode.app/Contents/Frameworks</code></li>
<li>DVTKit and DVTFoundation are present at <code>Xcode.app/Contents/SharedFrameworks</code></li>
<li>By registering an observer for <code>nil</code> you can see all the notifications that are being called. This is useful to find out which actions are called and when, and what notifications you might need to listen for.</li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">danielbeard</span></span>

      








  


<time datetime="2013-04-29T09:15:20-07:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/general-dev/'>general dev</a>, <a class='category' href='/blog/categories/objective-c/'>objective-c</a>, <a class='category' href='/blog/categories/osx-development/'>osx development</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://danielbeard.io/blog/2013/04/29/developing-xcode-4-plugins/" data-via="_danielbeard" data-counturl="http://danielbeard.io/blog/2013/04/29/developing-xcode-4-plugins/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/04/24/automated-unit-testing-an-ios-app-with-jenkins/" title="Previous Post: Automated Unit testing an iOS app with Jenkins">&laquo; Automated Unit testing an iOS app with Jenkins</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/05/06/setting-up-travis-ci-for-automated-unit-testing-of-ios-projects-on-github/" title="Next Post: Setting up travis-ci for automated unit testing of iOS projects on GitHub">Setting up travis-ci for automated unit testing of iOS projects on GitHub &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Daniel Beard -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
